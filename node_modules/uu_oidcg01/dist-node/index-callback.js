"use strict";

if (opener && !opener.closed && opener.uuOidcCallbackFn) opener.uuOidcCallbackFn(location.href + "", window);else if (frameElement && parent && parent.uuOidcCallbackFn) parent.uuOidcCallbackFn(location.href + "", window);else if (navigator.standalone) {
  var state = (location.hash.match(/[#&]state=([^&]*)/) || [])[1];
  var redirectUrl = state ? decodeURIComponent(state).replace(/^[^,]*,?/, "") : null;
  if (redirectUrl && redirectUrl.match(/^\//)) location.href = redirectUrl;else location.href = location.pathname.replace(/\/(public|assets)\/(\d+\.\d+\.\d+\/)?.*/, "/"); // guess app root
} else close();