'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactTestRenderer = require('react-test-renderer');

var _reactTestRenderer2 = _interopRequireDefault(_reactTestRenderer);

var _uu5g = require('uu5g04');

var _uu5g2 = _interopRequireDefault(_uu5g);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var TestTools = {
  testProperty: function testProperty(Component, propName, values) {
    !Array.isArray(values) && (values = [values]);

    values.forEach(function (value) {
      var props = {};
      props[propName] = value;

      var tree = _reactTestRenderer2.default.create(_react2.default.createElement(Component, props)).toJSON();
      expect(tree).toMatchSnapshot();
    });
  },
  testDefaultProperties: function testDefaultProperties(Component) {
    var tree = _reactTestRenderer2.default.create(_react2.default.createElement(Component, null)).toJSON();
    expect(tree).toMatchSnapshot();
  },
  testProperties: function testProperties(tagName, propsConfig) {
    var Component = _uu5g2.default.Common.Tools.checkTag(tagName);

    test(tagName + ' default props', function () {
      TestTools.testDefaultProperties(Component);
    });

    var _loop = function _loop(propName) {
      test(tagName + ' prop ' + propName, function () {
        TestTools.testProperty(Component, propName, propsConfig[propName].values);
      });
    };

    for (var propName in propsConfig) {
      _loop(propName);
    }
  }
};

exports.default = TestTools;