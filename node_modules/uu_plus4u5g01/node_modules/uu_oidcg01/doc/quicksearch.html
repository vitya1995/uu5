<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"global.html":{"id":"global.html","title":"Global","body":" Documentation Classes module.exportsUuOidc.SessionUuOidc.SessionHandler Global _silentTokenRefreshgrantExchangeTokenIframeComponentPopupComponent Global Methods _silentTokenRefresh() Tries to re-authenticate the user silently: if we are locally logged out =&gt; do nothing if a user is logged in (on remote) and it's the same user as ours =&gt; use the new token if a user is logged in (on remote) and it's not the same user as ours =&gt; perform local logout if a user is not logged in (on remote) =&gt; perform local logout grantExchangeToken(parameters) Parameters: Name Type Description parameters Properties Name Type Description subject_token grantExchangeToken(parameters) Parameters: Name Type Description parameters Properties Name Type Description subject_token subject_token_type IframeComponent() Visual component for attempting user login/logout on a background in an iframe. Usable only for prompt=&quot;none&quot; cases. After login/logout initAttrs.onResult(authResultUrl) is called as callback. In case of an error, an error instance is passed to the callback. Parameters: Name Type Description initAttrs.url The URL to be called on OpenID Connect Server for user authentication. initAttrs.onResult The callback to call after login/logout finishes. initAttrs.timeout Seconds to wait after which consider the attempt unsuccessful, resulting in UuApp.Error.TimeoutError result. PopupComponent() Default visual component for presenting login/logout prompt to the user. It displays the URL in a popup window and waits until the user logs in / closes the window. After that initAttrs.onResult(authResultUrl) is called as callback. Parameters: Name Type Description initAttrs.url The URL to be called on OpenID Connect Server for user authentication. initAttrs.onResult The callback to call after login finishes. If the login finished by user closing the window (e.g. via close button), the passed value is false. Otherwise it's the URL that was deemed as final response from OpenID Connect server (which contains the authentication response in fragment). × Search results Close Documentation generated by JSDoc 3.4.2 on 2017-11-23T14:57:14+01:00 using the DocStrap template. "},"classes.list.html":{"id":"classes.list.html","title":"Classes","body":" Documentation Classes module.exportsUuOidc.SessionUuOidc.SessionHandler Global _silentTokenRefreshgrantExchangeTokenIframeComponentPopupComponent Classes Classes exports exports Session SessionHandler × Search results Close Documentation generated by JSDoc 3.4.2 on 2017-11-23T14:57:14+01:00 using the DocStrap template. "},"index.html":{"id":"index.html","title":"Index","body":" Documentation Classes module.exportsUuOidc.SessionUuOidc.SessionHandler Global _silentTokenRefreshgrantExchangeTokenIframeComponentPopupComponent uu_oidcg01 library includes: Session - for session management, i.e. login, logout, accessing identity of currently logged in user, ... SessionHandler - interceptor for UuApp.AppClient.Client which handles authentication via OpenID Connect. See Session for pre-requisities that must be fulfilled in order to successfully initialize and use session. Example of usage in HTML page: &lt;script&gt; // // global configuration // window.UU5 = { // Environment: { // &quot;uuoidc.serverUri&quot;: &quot;https://oidc.plus4u.net/uu-oidcg01-main/99923616732452117-4f06dafc03cb4c7f8c155aa53f0e86be&quot;, // &quot;uuoidc.clientId&quot;: &quot;YY7ffYSVLu...&quot;, // &quot;uuoidc.redirectUri&quot;: &quot;callbacks/oidc-callback.html&quot; // &quot;uuoidc.sessionExpiringNotificationTime&quot;: 5 * 60, // &quot;uuoidc.sessionCheckInterval&quot;: 5 // } // }; &lt;/script&gt; &lt;script src=&quot;https://cdn.plus4u.net/uu-appg01-core/3.0.0/uu_appg01_core.min.js&quot;&gt;&lt;/script&gt; &lt;script src=&quot;https://cdn.plus4u.net/uu-oidcg01/3.0.0/uu_oidcg01.min.js&quot;&gt;&lt;/script&gt; &lt;script&gt; // waiting for initialization of session during page load (finding out logged in user is asynchronous operation) UuOidc.Session.initPromise.then(function (session) { console.log(session.getIdentity()); }); // access to current identity, state, token var session = UuOidc.Session.currentSession; session.isAuthenticated(); // true / false session.getIdentity(); // null or object literal { &quot;name&quot;: &quot;John Frog&quot;, universeId, email, levelOfAssurance, loginLevelOfAssurance } session.getClaims(); // additional OpenID claims session.getCallToken(); // null or object literal { &quot;token&quot;: &quot;...&quot;, &quot;tokenType&quot;: &quot;Bearer&quot; } // detection of identity login / logout / auto-login / re-login function onIdentityChange(event) { var identity = event.data; if (identity == null) return; // anonymous user console.log(identity.name); } session.addListener(&quot;identityChange&quot;, onIdentityChange); session.removeListener(&quot;identityChange&quot;, onIdentityChange); // explicit login / logout session.login().then(function (session) { // login as non-anonymous user; also triggers identityChange event (after success) console.log(&quot;Logged in as &quot;, session.getIdentity().name, &quot;Full identity:&quot;, session.getIdentity()); }); session.logout().then(function () { // also triggers identityChange event (after success) console.log(&quot;Logged out.&quot;); }); // explicit login with access token session.login({ accessToken: &quot;...id_token...&quot; }); // explicit login with access token issued by uuOS8 session.login({ accessToken: &quot;...token from uuOS8...&quot;, tokenTypeHint: &quot;urn:ietf:params:oauth:token-type:jwt-uuos8&quot; }); // handling notification that user session against OpenID Connect server is going to expire session.addListener(&quot;sessionExpiring&quot;, function (event) { // display some warning that the session is going to expire var doLogin = confirm(&quot;Your session will soon expire. Do you want to log in again?&quot;); if (doLogin) session.login({ prompt: &quot;login&quot; }); // force displaying of a login window }); // handling notification that user session against OpenID Connect server got extended // (and thus is no longer expiring) session.addListener(&quot;sessionExtended&quot;, function (event) { // hide a warning that the session is going to expire, if it's still shown... // ... }); &lt;/script&gt; × Search results Close Documentation generated by JSDoc 3.4.2 on 2017-11-23T14:57:14+01:00 using the DocStrap template. "},"module.exports.html":{"id":"module.exports.html","title":"Class: exports","body":" Documentation Classes module.exportsUuOidc.SessionUuOidc.SessionHandler Global _silentTokenRefreshgrantExchangeTokenIframeComponentPopupComponent Class: exports exports new exports() Parameters: Name Type Description options.serverUri options.clientId Methods &lt;static&gt; decode() &lt;static&gt; immediateThen() If promise has already been resolved, thenFn is called immediately (or catchFn in case that the promise has been rejected). Otherwise thenFn and catchFn callbacks are simply registered via promise.then(thenFn, catchFn). Note that this works only on promises that were wrapped via #wrapForImmediateThen function. Returns: Return value of thenFn/catchFn (if invoked immediately) or promise.then(thenFn, catchFn). &lt;static&gt; wrapForImmediateThen() Wraps Promise so that it can then be used in immediateThen function. Class: exports exports new exports() Parameters: Name Type Description options.serverUri options.clientId options.redirectUri Methods &lt;static&gt; decode() &lt;static&gt; immediateThen() If promise has already been resolved, thenFn is called immediately (or catchFn in case that the promise has been rejected). Otherwise thenFn and catchFn callbacks are simply registered via promise.then(thenFn, catchFn). Note that this works only on promises that were wrapped via #wrapForImmediateThen function. Returns: Return value of thenFn/catchFn (if invoked immediately) or promise.then(thenFn, catchFn). &lt;static&gt; wrapForImmediateThen() Wraps Promise so that it can then be used in immediateThen function. × Search results Close Documentation generated by JSDoc 3.4.2 on 2017-11-23T14:57:14+01:00 using the DocStrap template. "},"UuOidc.Session.html":{"id":"UuOidc.Session.html","title":"Class: Session","body":" Documentation Classes module.exportsUuOidc.SessionUuOidc.SessionHandler Global _silentTokenRefreshgrantExchangeTokenIframeComponentPopupComponent Class: Session Session Session handling via OpenID Connect server. Configuration Login via OpenID Connect server requires a special callback HTML page be present on the domain where application is running. The callback HTML page should be copied from the contents of this library (callbacks/oidc-callback.html) to the application and URL path to it must be configured as described below - configuration parameter &quot;uuoidc.redirectUri&quot;. Following global configuration parameters are used for initializing Session.currentSession: uuoidc.clientId - OpenID Connect client ID (application ID as registered in OIDC server) that wants to know the identity of the user. Default is auto-generated which means that the application will be treated as an anonymous application and therefore might not be authorized for accessing most of user data. uuoidc.redirectUri - redirect URI for OpenID Connect implicit flow. It must be on the same server as the running application and must point to the HTML file (callbacks/oidc-callback.html) distributed with this OIDC client library. If a relative path is used, it's relative to document.baseURI (current URL). Default is &quot;callbacks/oidc-callback.html&quot;. uuoidc.serverUri - OpenID Connect server to perform login / logout against. Default is &quot;https://oidc.plus4u.net/uu-oidcg01-main/99923616732452117-4f06dafc03cb4c7f8c155aa53f0e86be&quot;. uuoidc.sessionExpiringNotificationTime - a &quot;sessionExpiring&quot; notification event is triggered these many seconds prior to the session expiration. Default is 5 minutes. Using 0 disables the notification. uuoidc.sessionCheckInterval - how often to check whether the user login state changed (e.g. logged out in another browser tab), in seconds. Default is 5. Using 0 disables the checking. Supported events It's possible to handle session state changes and other notifications by registering a listener function to any of these events (see also UuOidc.Session#addListener): identityChange - triggerred whenever an identity changes (user logs in / out / changes its authorization status). Event's &quot;data&quot; field contains the new identity (see UuOidc.Session#getIdentity). sessionExpiring - triggerred some time before the global session against OpenID Connect server expires. The application can show a warning at this moment and suggest to the user to re-login themselves. Re-login can be initiated by Session#login({ prompt: &quot;login&quot; }) which forces a popup window to be shown. The event's &quot;data&quot; field contains an object with following fields: expiresAt - time in milliseconds when the expiration of the global session will occur. sessionExtended - trigerred after the global session against OpenID Connect server has been extended. The application should remove the warning about necessity of user re-login if it's showing one (i.e. if there happenned a sessionExpiring event, the user re-logged in, possibly in different browser tab, then the application should no longer display any warning about sessionExpiring). The event's &quot;data&quot; field contains an object with following fields: expiresAt - time in milliseconds when the expiration of the global session will occur new Session(options) Creates new Session with specified options. Parameters: Name Type Description options Object | UuApp.Util.Config Options. Properties Name Type Description serverUri OpenID Connect server to perform login / logout against. clientId OpenID Connect client ID (application ID as registered in OIDC server) that wants to know the identity of the user. redirectUri Redirect URI for OpenID Connect implicit flow. It must be on the same server as the running application and must point to the HTML file (callbacks/oidc-callback.html) distributed with this OIDC client library. If a relative path is used, it's relative to document.baseURI (current URL). sessionExpiringNotificationTime A &quot;sessionExpiring&quot; notification event is triggered these many seconds prior to the session expiration. sessionCheckInterval How often to check whether the user login state changed (e.g. logged out in another browser tab), in seconds. Members &lt;static&gt; currentSession :UuOidc.Session Current session. Type: UuOidc.Session &lt;static&gt; initComplete :boolean Whether the session initialization performed during page load has already completed. Type: boolean &lt;static&gt; initPromise :Promise.&lt;UuOidc.Session&gt; Promise resolved after session initialization (restoring state) finishes. Type: Promise.&lt;UuOidc.Session&gt; initComplete :boolean Whether the session initialization performed during page load has already completed. Note that this field is available only on a session instance that is created automatically during page load. Type: boolean initPromise :Promise.&lt;UuOidc.Session&gt; Promise resolved after session initialization (restoring state) finishes. Note that this field is available only on a session instance that is created automatically during page load. Type: Promise.&lt;UuOidc.Session&gt; Methods addIdentityChangeListener(listener) Adds listener for changes of user identity (logins / logouts). Parameters: Name Type Description listener function The listener function to add. The function receives identity object or null. Deprecated: Use Session#addListener(&quot;identityChange&quot;, listener) instead. Note that the listener accepts Event object. See: UuOidc.Session#addListener UuOidc.Session#getIdentity Returns: Function for unregistering the listener (the listener can be unregistered also by UuOidc.Session#removeIdentityChangeListener). Type function addListener(eventName, listener) Adds listener for specified event. Listener is a function accepting an event object, which contains following fields: type The type of the event, e.g. &quot;identityChange&quot;. data The data passed to the event. See Session for the list of supported events. Parameters: Name Type Description eventName string The event to register listener for. listener function The function to be called whenever the event is trigerred. See: UuOidc.Session#removeListener Returns: Function for unregistering the listener (the listener can be unregistered also by UuOidc.Session#removeListener). Type function getCallToken(callUri) Returns token and its type for calling commands. Returned object contains following fields: tokenType - the type of the token, such as &quot;Bearer&quot;, token - the token itself. If the user is not logged in, null is returned. Parameters: Name Type Description callUri string | UuApp.Uri.Uri (optional) Command URI that is going to be called with the token. Returns: Object containing token and its type, or null if user is not logged in. getClaims() Returns all claims present in the token (or null if not logged in). getIdentity() Returns identity of currently logged in user or null if not logged in. The identity contains following fields: id name uuIdentity email levelOfAssurance loginLevelOfAssurance Returns: Identity of currently logged in user or null if not logged in. Type Object isAuthenticated() Returns: True iff the user is authenticated (logged in). Type boolean login(options) Login against OpenID Connect server. If no or empty options are used, user will be required to log in as non-anonymous user (as if { acrValues: 1 } was used). If user is already logged in and options don't indicate that a re-login is necessary, then the method does nothing. Re-login can be forced by using option &quot;prompt&quot; set to &quot;login&quot;. Parameters: Name Type Description options Object Options. Properties Name Type Description prompt string (optional) One of &quot;&quot; (default), &quot;none&quot; (check login state without user interaction), &quot;login&quot; (re-request authentication). acrValues (optional) One of: 0 (allow log in as anonymous), 1 (require non-anonymous user). accessToken string (optional) Authentication token to use for login. Currently, only id_token (JWT) is supported. tokenTypeHint string (optional) Hint about the type of the authentication token (accessToken in options) if it isn't standard id_token. Supported values depend on OpenID Connect server. uuOS9 server supports these values: &quot;urn:ietf:params:oauth:token-type:jwt-uuos8&quot; - indicates that the token being passed to the login was originally issued by uuOS8 Returns: Promise resolved after the login ends. The resolved value is this session instance, identity of logged in user can be obtained via sessionInstance.getIdentity(). Rejection value is one of: false - user refused to log in Error - any other error such as network problems, ... logout() Log out the user. Returns: Promise resolved after the user gets logged out (or immediately, if the user is not logged in). removeIdentityChangeListener(listener) Removes listener for changes of user identity (logins / logouts). Parameters: Name Type Description listener function The listener to remove. Deprecated: Use Session#removeListener(&quot;identityChange&quot;, listener) instead. See: UuOidc.Session#removeListener Returns: True if the listener got removed, false otherwise (listener was not registered). Type boolean removeListener(eventName, listener) Removes listener for specified event. Parameters: Name Type Description eventName string The event to remove listener for. listener function The listener (function) to unregister. See: UuOidc.Session#addListener Returns: True if the listener got removed, false otherwise (listener was not registered). Type boolean × Search results Close Documentation generated by JSDoc 3.4.2 on 2017-11-23T14:57:14+01:00 using the DocStrap template. "},"UuOidc.SessionHandler.html":{"id":"UuOidc.SessionHandler.html","title":"Class: SessionHandler","body":" Documentation Classes module.exportsUuOidc.SessionUuOidc.SessionHandler Global _silentTokenRefreshgrantExchangeTokenIframeComponentPopupComponent Class: SessionHandler SessionHandler Interceptor for Client which authenticates command calls by using user from current / specified session. Additionally, if server responds with authentication challenge (e.g. user needs to login with more secure realm or re-login due to inactivity), the interceptor performs session login and calls the command again. Interceptor is skipped if there's request header &quot;authorization&quot; set for the command call, even if the header value is null. Configuration Interceptor recognizes following options for command call: uuoidc.loginParameters - object with extra parameters for login. See UuOidc.Session#login for supported values. session - the session to use for authentication. By default Session.currentSession is used. Error handling Interceptor might cause the command call to fail with these errors (in addition to standard Client ones): UuApp.Error.AbortError - in case that the command requires user to be logged in but the user refused to do so. new SessionHandler() × Search results Close Documentation generated by JSDoc 3.4.2 on 2017-11-23T14:57:14+01:00 using the DocStrap template. "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
