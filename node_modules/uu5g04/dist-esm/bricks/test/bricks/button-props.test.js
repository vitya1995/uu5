import React from 'react';
import { shallow } from 'enzyme';
import UU5 from "uu5g04";
import "uu5g04-bricks";
import enzymeToJson from 'enzyme-to-json';
import TestTools from "../../../core/test/test-tools.js";

const TagName = "UU5.Bricks.Button";

const PROPS = {
  size: {
    values: ["s", "m", "l", "xl"]
  },
  displayBlock: {
    values: [true, false]
  },
  pressed: {
    values: [true, false]
  },
  bgStyle: {
    values: ["filled", "inverted", "transparent"]
  }
};

const This = {};

describe(`${TagName} props testing`, () => {
  TestTools.testProperties(TagName, PROPS);

  it(`${TagName} prop onClick`, () => {
    const _value = "On click function";
    This._onClickButton = null;
    This._onClickE = null;

    const wrapper = shallow(<UU5.Bricks.Button onClick={(button, e) => {
      This._onClickButton = button;
      This._onClickE = e;
    }} />);

    wrapper.find('button').simulate('click', { target: { value: _value } });
    expect(This._onClickButton.constructor.tagName).toEqual(TagName);
    expect(This._onClickE.target.value).toEqual(_value);
    expect(enzymeToJson(wrapper)).toMatchSnapshot();
  });
});