'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
var REGEXP_XY = /[xy]/g;

var Tools = exports.Tools = {
  generateId: function generateId() {
    var length = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 32;

    length = Math.max(length, 8);
    var uuidCore = 'x4xxxyxx';
    var additionalCharLength = length - uuidCore.length;
    for (var i = 0; i < additionalCharLength; ++i) {
      if (i % 2 === 0) uuidCore = uuidCore + 'x';else uuidCore = 'x' + uuidCore;
    }

    var timeNum = new Date().getTime();
    if (window.performance && typeof window.performance.now === 'function') {
      timeNum += performance.now(); //use high-precision timer if available
    }
    return uuidCore.replace(REGEXP_XY, function (char) {
      var r = (timeNum + Math.random() * 16) % 16 | 0;
      timeNum = Math.floor(timeNum / 16);
      return (char === "x" ? r : r & 0x3 | 0x8).toString(16);
    });
  }
};

exports.default = Tools;